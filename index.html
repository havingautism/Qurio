<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <script>
      ;(function () {
        // Immediate theme application to prevent flash
        try {
          var theme = localStorage.getItem('themeColor') // Note: This is color, not mode.
          // Mode is 'theme' (light/dark/system) but we might need to check how it's saved.
          // Looking at Settings.js: localStorage.setItem('themeColor', settings.themeColor)
          // Wait, we need to check the MODE ('light', 'dark', 'system').
          // In App.jsx: const [theme, setTheme] = useState('system') and local storage key is NOT clearly set for 'mode'
          // App.jsx doesn't seem to persist 'theme' mode to localStorage directly in a simple key?
          // Let's check App.jsx again.
          // It seems it defaults to 'system' effectively.

          // Let's implement a robust check here corresponding to what we will add in App.jsx
          // We will save 'app-theme-mode' in App.jsx.

          var savedMode = localStorage.getItem('app-theme-mode') || 'system'
          var systemTheme = window.matchMedia('(prefers-color-scheme: dark)').matches
            ? 'dark'
            : 'light'

          if (savedMode === 'dark' || (savedMode === 'system' && systemTheme === 'dark')) {
            document.documentElement.classList.add('dark')
          } else {
            document.documentElement.classList.remove('dark')
          }
        } catch (e) {
          console.error('Theme init failed', e)
        }

        var basePath = location.pathname.indexOf('/Qurio/') === 0 ? '/Qurio/' : '/'
        var icon = document.createElement('link')
        icon.rel = 'icon'
        icon.type = 'image/png'
        icon.href = basePath + 'Qurio-logo-app-webtab.png'
        document.head.appendChild(icon)
        var manifest = document.createElement('link')
        manifest.rel = 'manifest'
        manifest.href = basePath + 'manifest.json'
        document.head.appendChild(manifest)
      })()
    </script>
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover"
    />
    <title>Qurio</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400..900&family=Google+Sans+Flex:opsz,wght@8..144,400..1000&family=Google+Sans:wght@400..900&family=Google+Sans+Mono:wght@400..700&family=Google+Sans+Code:wght@400..700&display=swap"
      rel="stylesheet"
    />
  </head>

  <body>
    <div id="root"></div>
  </body>
</html>
